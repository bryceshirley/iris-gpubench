
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../considerations_on_accuracy/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.39">
    
    
      
        <title>Future Work and Expansion - IRIS GPU Bench</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8c3ca2c6.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#future-work-and-expansion" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="IRIS GPU Bench" class="md-header__button md-logo" aria-label="IRIS GPU Bench" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IRIS GPU Bench
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Future Work and Expansion
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Index

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../overview/" class="md-tabs__link">
        
  
    
  
  Overview

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../installation/" class="md-tabs__link">
        
  
    
  
  Installation

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../building_docker_images/" class="md-tabs__link">
        
  
    
  
  Benchmark Docker Images

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../command_line_interface/" class="md-tabs__link">
        
  
    
  
  Command-Line Interface

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../example_commands/" class="md-tabs__link">
        
  
    
  
  Example Commands

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../collecting_results/" class="md-tabs__link">
        
  
    
  
  Collecting Results

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../live_monitoring/" class="md-tabs__link">
        
  
    
  
  Live Monitoring

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../considerations_on_accuracy/" class="md-tabs__link">
        
  
    
  
  Considerations On Accuracy

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  Future Work and Expansion

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="IRIS GPU Bench" class="md-nav__button md-logo" aria-label="IRIS GPU Bench" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    IRIS GPU Bench
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../building_docker_images/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Benchmark Docker Images
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../command_line_interface/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Command-Line Interface
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../example_commands/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Example Commands
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../collecting_results/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collecting Results
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../live_monitoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Live Monitoring
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../considerations_on_accuracy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Considerations On Accuracy
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Future Work and Expansion
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Future Work and Expansion
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-additional-benchmarks-to-integrate" class="md-nav__link">
    <span class="md-ellipsis">
      1 Additional Benchmarks to Integrate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-enhancing-benchmark-results" class="md-nav__link">
    <span class="md-ellipsis">
      2 Enhancing Benchmark Results
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 Enhancing Benchmark Results">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-estimating-floating-point-operations-per-second-flops" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Estimating Floating Point Operations Per Second (FLOPs)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-explore-nvidia-nsight-systems" class="md-nav__link">
    <span class="md-ellipsis">
      3 Explore NVIDIA Nsight Systems
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-enhancing-carbon-footprint-accuracy" class="md-nav__link">
    <span class="md-ellipsis">
      4 Enhancing Carbon Footprint Accuracy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 Enhancing Carbon Footprint Accuracy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-estimating-embodied-carbon-if-manufacturers-dont-provide-them" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 Estimating Embodied Carbon if Manufacturers Don’t Provide Them
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-strategic-planning-for-energy-intensive-tasks-based-on-carbon-intensity-forecasts" class="md-nav__link">
    <span class="md-ellipsis">
      5 Strategic Planning for Energy-Intensive Tasks Based on Carbon Intensity Forecasts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5 Strategic Planning for Energy-Intensive Tasks Based on Carbon Intensity Forecasts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-overview" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-regional-carbon-intensity-variation" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 Regional Carbon Intensity Variation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-emissions-forecasting" class="md-nav__link">
    <span class="md-ellipsis">
      5.4 Emissions Forecasting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55-integration-with-iris-bench" class="md-nav__link">
    <span class="md-ellipsis">
      5.5 Integration with IRIS Bench
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.5 Integration with IRIS Bench">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#formula-for-predicting-carbon-emissions" class="md-nav__link">
    <span class="md-ellipsis">
      Formula for Predicting Carbon Emissions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#56-an-example-from-wwf" class="md-nav__link">
    <span class="md-ellipsis">
      5.6 An Example from WWF
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-additional-metrics-and-areas-for-measurement-in-iris-bench" class="md-nav__link">
    <span class="md-ellipsis">
      6 Additional Metrics and Areas for Measurement in IRIS Bench
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-other-ideas-for-future-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      7 Other Ideas for Future Implementation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7 Other Ideas for Future Implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8-improvements-for-github-repository" class="md-nav__link">
    <span class="md-ellipsis">
      8 Improvements for GitHub Repository
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="future-work-and-expansion">Future Work and Expansion<a class="headerlink" href="#future-work-and-expansion" title="Permanent link">&para;</a></h1>
<h2 id="1-additional-benchmarks-to-integrate">1 Additional Benchmarks to Integrate<a class="headerlink" href="#1-additional-benchmarks-to-integrate" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><strong>McStas Neutron Monte Carlo Ray-Tracing</strong></p>
</li>
<li>
<p><strong>RFI GPU Benchmarks:</strong> Explore and integrate relevant Radio Frequency Interference (RFI) GPU benchmarks to cover a wider range of scientific performance evaluations.</p>
</li>
<li>
<p><strong>Highly Optimized NVIDIA HPL Benchmarks:</strong> Add the <a href="https://catalog.ngc.nvidia.com/orgs/nvidia/containers/hpc-benchmarks">NVIDIA HPC Benchmarks</a>, focusing on the HPL benchmarks designed for Grace Hopper tests. This integration will require referencing the <a href="https://docs.nvidia.com/nvidia-hpc-benchmarks/HPL_benchmark.html">NVIDIA HPL Benchmark documentation</a> to ensure proper implementation and optimization.</p>
</li>
</ul>
<h2 id="2-enhancing-benchmark-results">2 Enhancing Benchmark Results<a class="headerlink" href="#2-enhancing-benchmark-results" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><strong>Integration into Meerkat (HIGH PRIORITY):</strong> Complete the integration with Meerkat to facilitate regular benchmark testing. This will allow the generation of more robust statistical data, such as error bars, by calculating mean and standard deviation across multiple tests.</p>
</li>
<li>
<p><strong>Normalization of Results:</strong> Implement normalization techniques to standardize benchmark results across different GPU models and workloads, facilitating meaningful comparisons.</p>
</li>
<li>
<p><strong>FLOP Estimations and Efficiency Metrics:</strong> Calculate Floating Point Operations per Second (FLOPs) to determine performance per watt, providing insights into computational efficiency and energy consumption.</p>
</li>
</ul>
<h3 id="21-estimating-floating-point-operations-per-second-flops">2.1 Estimating Floating Point Operations Per Second (FLOPs)<a class="headerlink" href="#21-estimating-floating-point-operations-per-second-flops" title="Permanent link">&para;</a></h3>
<p>Comparisons based solely on clock speed can be misleading due to differences in GPU architectures, CUDA cores, tensor cores, and operations per clock cycle. Note clock speeds vary for various reasons such as size of workload, temperature, and power supply.</p>
<p>To estimate the FLOPs of a GPU:</p>
<p><strong>FLOPs = CUDA Cores × Clock Speed (Hz) × Operations per Clock Cycle</strong></p>
<p>Steps to calculate FLOPs:</p>
<ol>
<li>Determine the number and type of cores (e.g., CUDA cores, tensor cores) and if they are being utilized.</li>
<li>Clock speed can be found using IRIS BENCH.</li>
<li>Identify the operations per clock cycle, specific to the GPU's architecture (i.e., core generation). "The A100 SM includes new third-generation Tensor Cores that each perform 256 FP16/FP32 FMA operations per clock."</li>
<li>Investigate how <code>nvidia-smi</code> calculates utilization and whether more granular utilization data can be obtained.</li>
<li>Review how tools like sciml-bench and pytorch report core usage and incorporate these insights into metrics collection.</li>
</ol>
<p><strong>Data Sheets Contain Information About the Number of Cores</strong></p>
<ul>
<li><a href="https://images.nvidia.com/content/technologies/volta/pdf/tesla-volta-v100-datasheet-letter-fnl-web.pdf">V100 datasheet</a></li>
<li><a href="https://www.nvidia.com/content/dam/en-zz/Solutions/gtcs21/rtx-a4000/nvidia-rtx-a4000-datasheet.pdf">A4000 Datasheet</a></li>
<li><a href="https://www.pny.com/nvidia-a100">NVIDIA A100 Datasheet</a></li>
<li><a href="https://www.nvidia.com/content/dam/en-zz/Solutions/design-visualization/quadro-product-literature/quadro-rtx-4000-datasheet.pdf">RTX4000 DataSheet</a></li>
</ul>
<h2 id="3-explore-nvidia-nsight-systems">3 Explore NVIDIA Nsight Systems<a class="headerlink" href="#3-explore-nvidia-nsight-systems" title="Permanent link">&para;</a></h2>
<p>Utilize NVIDIA Nsight Systems for detailed performance profiling, identifying optimization opportunities, and potentially getting insight into the activated cores for FLOP calculations. This tool offers in-depth insights into GPU performance across various workloads and configurations.</p>
<h2 id="4-enhancing-carbon-footprint-accuracy">4 Enhancing Carbon Footprint Accuracy<a class="headerlink" href="#4-enhancing-carbon-footprint-accuracy" title="Permanent link">&para;</a></h2>
<p>To achieve a more accurate total carbon footprint, emissions from the GPU's manufacturing, delivery, and full lifecycle should be included. This requires calculating the proportion of the GPU's lifespan used by a specific workload and converting it to equivalent carbon emissions, which are then added to emissions from the API and electricity use.</p>
<p>Cooling power should also be considered; while <code>nvidia-smi</code> does not report fan power directly, fan speed data can be used to estimate it.</p>
<p>The revised calculation includes:</p>
<ul>
<li>
<p><strong>Manufacturing Emissions per Hour</strong>:<br />
<div class="highlight"><pre><span></span><code>Manufacturing Emissions per Hour = Total Manufacturing Emissions (kg CO₂e) / Expected Lifespan (hours)
</code></pre></div></p>
</li>
<li>
<p><strong>Delivery Emissions per Hour</strong>:
<div class="highlight"><pre><span></span><code>Delivery Emissions per Hour = Total Delivery Emissions (kg CO₂e) / Expected Lifespan (hours)
</code></pre></div></p>
</li>
<li>
<p><strong>Use Emissions for the Run</strong> (already calculated by IRIS Bench):<br />
<div class="highlight"><pre><span></span><code>Use Emissions for the Run = (Power Consumption (Watts) / 1000) * Run Time (hours) * Carbon Intensity from API (kg CO₂e per kWh)
</code></pre></div></p>
</li>
<li>
<p><strong>Cooling Emissions for the Run</strong> (based on fan speed):<br />
<div class="highlight"><pre><span></span><code>Cooling Emissions for the Run = (Estimated Fan Power (Watts) / 1000) * Run Time (hours) * Carbon Intensity from API (kg CO₂e per kWh)
</code></pre></div></p>
</li>
<li>
<p><strong>Total Emissions for the Run</strong>:<br />
<div class="highlight"><pre><span></span><code>Total Emissions for the Run = (Manufacturing Emissions per Hour + Delivery Emissions per Hour) * Run Time (hours) + Use Emissions for the Run + Cooling Emissions for the Run
</code></pre></div></p>
</li>
</ul>
<p>This approach will provide a more comprehensive estimate of the carbon footprint for GPU workloads.</p>
<h3 id="41-estimating-embodied-carbon-if-manufacturers-dont-provide-them">4.1 Estimating Embodied Carbon if Manufacturers Don’t Provide Them<a class="headerlink" href="#41-estimating-embodied-carbon-if-manufacturers-dont-provide-them" title="Permanent link">&para;</a></h3>
<p>Finding specific statistics on the embodied carbon emissions associated with the manufacturing and packaging of NVIDIA GPUs proved challenging. However, the paper <a href="https://arxiv.org/pdf/2306.13177">Toward Sustainable HPC: Carbon Footprint Estimation and Environmental Implications of HPC Systems</a> provides a model for estimating embodied carbon using available data on GPUs (as well as CPU, Memory, and Storage). For detailed insights, please refer to Section 2.1, titled "Embodied Carbon Footprint Modeling."</p>
<h2 id="5-strategic-planning-for-energy-intensive-tasks-based-on-carbon-intensity-forecasts">5 Strategic Planning for Energy-Intensive Tasks Based on Carbon Intensity Forecasts<a class="headerlink" href="#5-strategic-planning-for-energy-intensive-tasks-based-on-carbon-intensity-forecasts" title="Permanent link">&para;</a></h2>
<h3 id="51-overview">5.1 Overview<a class="headerlink" href="#51-overview" title="Permanent link">&para;</a></h3>
<p>This section focuses on guiding policies for executing energy-intensive tasks at STFC. By utilizing carbon intensity forecasts from the National Grid ESO Carbon Intensity API <a href="https://carbonintensity.org.uk/">Carbon Intensity API</a>, users can determine the optimal timing for these operations.</p>
<p>Scheduling tasks during periods of low carbon intensity or in regions with lower emissions—such as comparing Daresbury and RAL—can effectively reduce users' carbon footprints. Factors such as seasonal variations (summer vs. winter) and time of day significantly impact carbon intensity. Making informed decisions based on these variables can lead to substantial reductions in carbon emissions.</p>
<h3 id="53-regional-carbon-intensity-variation">5.3 Regional Carbon Intensity Variation<a class="headerlink" href="#53-regional-carbon-intensity-variation" title="Permanent link">&para;</a></h3>
<p>The table below, sourced from <a href="https://carbonintensity.org.uk/">Carbon Intensity API</a>, illustrates the variation in carbon intensity across different regions. At the time this screenshot was captured, the carbon intensity for the Daresbury Lab region was 21 gCO2/kWh, while RAL's region recorded 76 gCO2/kWh. Running a program at the Hartree Centre instead of RAL during this period could potentially reduce carbon emissions by approximately 70%, assuming the same hardware and setup are available.</p>
<p><img alt="regional carbon table" src="../regional_carbon_table.png" /></p>
<h3 id="54-emissions-forecasting">5.4 Emissions Forecasting<a class="headerlink" href="#54-emissions-forecasting" title="Permanent link">&para;</a></h3>
<p>As shown in the plot below from <a href="https://carbonintensity.org.uk/">Carbon Intensity API</a>, actual emissions closely align with forecasted values. Running an energy-intensive task between September 27 at 00:00 and 12:00, rather than from September 28 at 00:00 to 12:00, could result in an approximately 50% reduction in carbon usage.</p>
<p><img alt="forecast" src="../forecast.png" /></p>
<h3 id="55-integration-with-iris-bench">5.5 Integration with IRIS Bench<a class="headerlink" href="#55-integration-with-iris-bench" title="Permanent link">&para;</a></h3>
<p>Connecting this back to benchmarks—IRIS Bench provides users with insights into the duration and energy consumption of workloads similar to theirs on available GPUs. When combined with carbon intensity forecasts gathered regionally before the intended execution time, users can estimate carbon emissions for a workload before it is run. This predictive capability would be a valuable addition to IRIS Bench, allowing users to make informed decisions about the environmental impact of their tasks prior to execution.</p>
<p>The example below, taken from the <a href="https://carbonintensity.org.uk/">Carbon Intensity API</a> on 27-09-2024, provides a carbon forecast through 29-09-2024 and demonstrates the ability to select specific regions for tailored predictions.</p>
<p><img alt="regional forecast" src="../regional_forecast.png" /></p>
<h4 id="formula-for-predicting-carbon-emissions">Formula for Predicting Carbon Emissions<a class="headerlink" href="#formula-for-predicting-carbon-emissions" title="Permanent link">&para;</a></h4>
<p><img alt="carbon prediction equation" src="../carbon_prediction_equation.png" /></p>
<p><strong>Carbon_Prediction:</strong> Estimated total carbon emissions (gCO2) of the task.</p>
<ul>
<li>
<p><strong>Benchmark_Average_Power(GPU_Type):</strong> Average power consumption of the workload from IRIS Bench Results Database for a specific GPU type (W).</p>
</li>
<li>
<p><strong>Intended_Run_Start:</strong> Planned start time for the task (timestamp).</p>
</li>
<li>
<p><strong>Benchmark_RunTime(GPU_Type):</strong> Estimated duration of the task from IRIS Bench Results Database for a specific GPU type (hours).</p>
</li>
<li>
<p><strong>Carbon_Intensity_Forecast(t, Region):</strong> Forecasted carbon intensity at time t in a specific region (gCO2/kWh).</p>
</li>
<li>
<p><strong>t:</strong> Variable of integration representing time.</p>
</li>
<li>
<p><strong>Region:</strong> Geographical area of execution affecting carbon intensity.</p>
</li>
<li>
<p><strong>GPU_Type:</strong> The specific model of GPU utilized for the task. The calculation can be repeated for each available GPU to provide a comprehensive summary.</p>
</li>
</ul>
<h3 id="56-an-example-from-wwf">5.6 An Example from WWF<a class="headerlink" href="#56-an-example-from-wwf" title="Permanent link">&para;</a></h3>
<p>WWF has integrated the API into a reusable widget designed to help reduce emissions by turning on devices during periods of green energy and off when it's not. STFC Cloud could create a similar solution for its users to enhance carbon emission management.</p>
<p><img alt="wwf widget" src="../wwf_widget.png" />
<em>Screen print from <a href="https://www.wwf.org.uk/what-you-can-do/green-energy-forecast">WWF</a></em></p>
<h2 id="6-additional-metrics-and-areas-for-measurement-in-iris-bench">6 Additional Metrics and Areas for Measurement in IRIS Bench<a class="headerlink" href="#6-additional-metrics-and-areas-for-measurement-in-iris-bench" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><strong>Utilization Time:</strong> Measure the total time the GPU is actively utilized, which can provide insights into idle periods and workload efficiency.</p>
</li>
<li>
<p><strong>Stability:</strong> Crash Frequency: Track and report any GPU crashes or visual artifacts during benchmarks to assess stability.</p>
</li>
<li>
<p><strong>Throttling Events:</strong> Monitor instances of clock speed reductions due to high temperatures or power constraints.</p>
</li>
<li>
<p><strong>Memory Bandwidth:</strong> Measure the data transfer rate between the GPU and system memory to identify potential bottlenecks and optimize performance.</p>
</li>
</ul>
<h2 id="7-other-ideas-for-future-implementation">7 Other Ideas for Future Implementation<a class="headerlink" href="#7-other-ideas-for-future-implementation" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><strong>Consistent Hardware Configurations:</strong> Ensure that all GPUs being tested use the same hardware configurations (e.g., memory, CPUs) to eliminate variability and produce consistent results.</p>
</li>
<li>
<p><strong>Continuous Integration for Performance Testing:</strong> Encourage IRIS users to integrate GPU benchmarks into their CI workflows. Implement automated performance tests on every pull request; if performance drops by a specified percentage, the pull request would fail, ensuring that code changes do not degrade performance.</p>
</li>
<li>
<p><strong>Experimenting with Precision to Utilize Tensor Cores Fully:</strong> For GPUs equipped with tensor cores, utilize lower precisions (e.g., FP16) for matrix</p>
</li>
</ul>
<p>operations where feasible. This can lead to significant performance gains, depending on the workload's precision requirements.</p>
<h4 id="8-improvements-for-github-repository">8 Improvements for GitHub Repository<a class="headerlink" href="#8-improvements-for-github-repository" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Continuous Integration (CI) Tests</strong>: Develop and integrate comprehensive CI tests using GitHub Actions to maintain code reliability, ensure consistent performance, and catch issues early in the development cycle.</li>
<li><strong>Carbon Index Calculation</strong>: Enhance the environmental impact analysis by calculating the carbon index throughout the entire benchmarking run, rather than just at the start and end, to provide a more accurate representation.</li>
<li><strong>Wider Carbon Cost View:</strong> * It would be good to also investigate carbon associated with the manufacturing, delivery and lifetime of the GPU to. Ie how much of the lifetime was consumed by the run and how does that equate to carbon emissions.</li>
<li><strong>Use Best Practices for Naming Dockerfiles</strong>: Ensure all Dockerfiles follow standard naming conventions for clarity and maintainability.</li>
<li><strong>Include Logging Levels</strong>: Implement various logging levels (e.g., debug, info, error) and log tagging to improve traceability and debugging.</li>
<li><strong>Add Shell Check Workflow</strong>: Integrate a shell check workflow, similar to the one used in the <a href="https://github.com/stfc/SCD-OpenStack-Utils/blob/master/.github/workflows/gpu_benchmark.yaml">SCD-OpenStack-Utils repository</a>, to catch errors in shell scripts.</li>
<li><strong>Run Shell Check from Bash Scripts</strong>: Use shell check (similar to pylint) to analyze bash scripts for potential issues and maintain code quality.</li>
<li><strong>Add Dependabot to GitHub Actions</strong>: Implement Dependabot for automated dependency updates, improving security and ensuring compatibility with new releases.</li>
</ul>
<hr />
<p><a href="../considerations_on_accuracy/">Previous Page</a> | <a href="../">Index</a></p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "navigation.trail", "navigation.expand", "navigation.indexes", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.525ec568.min.js"></script>
      
    
  </body>
</html>